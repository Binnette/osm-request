<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [getCurrentIsoTimestamp][1]
-   [removeTrailingSlashes][2]
-   [simpleObjectDeepClone][3]
-   [findElementType][4]
-   [findElementId][5]
-   [checkIdIsNegative][6]
-   [buildQueryString][7]
-   [buildApiUrl][8]
-   [fetch][9]
-   [encodeXML][10]
-   [buildChangesetXml][11]
-   [buildChangesetFromObjectXml][12]
-   [buildPreferencesFromObjectXml][13]
-   [convertElementXmlToJson][14]
-   [cleanMapJson][15]
-   [convertElementsListXmlToJson][16]
-   [convertNotesXmlToJson][17]
-   [flattenAttributes][18]
-   [xmlToJson][19]
-   [jsonToXml][20]
-   [OsmRequest][21]
    -   [endpoint][22]
    -   [fetchNotes][23]
    -   [fetchNotesSearch][24]
    -   [fetchNote][25]
    -   [createNote][26]
    -   [commentNote][27]
    -   [closeNote][28]
    -   [reopenNote][29]
    -   [createChangeset][30]
    -   [isChangesetStillOpen][31]
    -   [fetchChangeset][32]
    -   [updateChangesetTags][33]
    -   [closeChangeset][34]
    -   [uploadChangesetOsc][35]
    -   [fetchChangesets][36]
    -   [createNodeElement][37]
    -   [createWayElement][38]
    -   [createRelationElement][39]
    -   [fetchElement][40]
    -   [fetchMultipleElements][41]
    -   [fetchRelationsForElement][42]
    -   [fetchWaysForNode][43]
    -   [findElementWithinOSMCollection][44]
    -   [getTags][45]
    -   [setProperty][46]
    -   [setTag][47]
    -   [setProperties][48]
    -   [setTags][49]
    -   [replaceTags][50]
    -   [removeProperty][51]
    -   [removeTag][52]
    -   [setCoordinates][53]
    -   [getNodeIdsForWay][54]
    -   [setNodeIdsForWay][55]
    -   [getRelationMembers][56]
    -   [setRelationMembers][57]
    -   [setTimestampToNow][58]
    -   [setVersion][59]
    -   [sendElement][60]
    -   [fetchMapByBbox][61]
    -   [deleteElement][62]
    -   [getUserPreferences][63]
    -   [setUserPreferences][64]
    -   [getUserPreferenceByKey][65]
    -   [setUserPreferenceByKey][66]
    -   [deleteUserPreference][67]
-   [fetchElementRequest][68]
-   [fetchElementRequestFull][69]
-   [multiFetchElementsByTypeRequest][70]
-   [fetchWaysForNodeRequest][71]
-   [sendElementRequest][72]
-   [fetchNotesRequest][73]
-   [fetchNotesSearchRequest][74]
-   [fetchNoteByIdRequest][75]
-   [genericPostNoteRequest][76]
-   [createNoteRequest][77]
-   [createChangesetRequest][78]
-   [changesetCheckRequest][79]
-   [changesetGetRequest][80]
-   [updateChangesetTagsRequest][81]
-   [closeChangesetRequest][82]
-   [uploadChangesetOscRequest][83]
-   [fetchChangesetsRequest][84]
-   [fetchMapByBboxRequest][85]
-   [deleteElementRequest][86]
-   [fetchRelationsForElementRequest][87]
-   [getUserPreferencesRequest][88]
-   [setUserPreferencesRequest][89]
-   [getUserPreferenceByKeyRequest][90]
-   [setUserPreferenceByKeyRequest][91]
-   [deleteUserPreferenceRequest][92]

## getCurrentIsoTimestamp

Get the current timestamp (for testing purpose)

Returns **[string][93]** 

## removeTrailingSlashes

Remove the trailing slashes from an URL and return it

**Parameters**

-   `url` **[string][93]** 

Returns **[string][93]** The cleaned URL

## simpleObjectDeepClone

Return a deep clone of an object.

The object has to be a simple object notation. Not a Map, a Set or anything else.

Object.assign and the spread operators can not be used as they do not replace children objects
by copies of themselves.

Eg: If you use Object.assign or the rest operator on that object: { items: [{ childrenItem: 1 }] }
All the objects contained in the items array will be references to the first objects

**Parameters**

-   `object` **[Object][94]** A simple object notation. No Map, Set or anything

Returns **[Object][94]** 

## findElementType

Return the type of an element based on the full OSM ID

**Parameters**

-   `osmId` **[string][93]** 

Returns **[string][93]** 

## findElementId

Return the ID of an element based on the full OSM ID

**Parameters**

-   `osmId` **[string][93]** 

Returns **[string][93]** 

## checkIdIsNegative

Check the OSM ID e.g -12 is negative

**Parameters**

-   `id` **[string][93]** The ID (without type)

Returns **[boolean][95]** 

## buildQueryString

**Parameters**

-   `params` **[Object][94]** 

Returns **[string][93]** 

## buildApiUrl

Constructs complete API URL

**Parameters**

-   `endpoint` **[string][93]** The endpoint URL
-   `path` **[string][93]** The method you want to use (example: /node/1234)
-   `params` **[Object][94]?** The URL parameters

Returns **[string][93]** The complete URL

## fetch

Wrapper for fetching data from a given URL.
Uses either simple fetch or authenticated xhr according to specified options.

**Parameters**

-   `url` **[string][93]** The URL to call
-   `options` **[Object][94]?** Options object (optional, default `{}`)
    -   `options.auth` **[boolean][95]?** If auth XHR object is passed, it will be used instead of a simple fetch

Returns **[Promise][96]** Resolves on response text, or rejects if any HTTP error occurs

## encodeXML

Escape a string to make it XML parameter-safe

**Parameters**

-   `str` **[string][93]**  (optional, default `''`)

Returns **[string][93]** 

## buildChangesetXml

Build a stringified OSM changeset

**Parameters**

-   `createdBy` **[string][93]?**  (optional, default `''`)
-   `comment` **[string][93]?**  (optional, default `''`)
-   `optionalTags` **[string][93]?** Keys values to set tags (optional, default `{}`)

Returns **[string][93]** 

## buildChangesetFromObjectXml

Build an OSM changeset from keys values, intended for update

**Parameters**

-   `tags` **[Object][94]** To set tags (optional, default `{}`)
-   `createdBy` **[string][93]?**  (optional, default `''`)
-   `comment` **[string][93]?**  (optional, default `''`)

Returns **[string][93]** 

## buildPreferencesFromObjectXml

Build an OSM preferences XML from object keys values

**Parameters**

-   `prefs` **[Object][94]** The preferences values

Returns **[string][93]** 

## convertElementXmlToJson

Convert a raw Element API response into a well formatted JSON object

**Parameters**

-   `xml` **[string][93]** The raw API response
-   `elementType` **[string][93]** The type of the concerned OSM element (eg: node, way, relation)
-   `elementId` **[string][93]** The ID of the concerned OSM element

Returns **[Promise][96]** 

## cleanMapJson

Convert a JSON object with OSM map features into a well formatted JSON object

**Parameters**

-   `osmMapJson` **[Object][94]** The raw API response

Returns **[Array][97]** 

## convertElementsListXmlToJson

Convert a raw list of elements API response into a well formatted JSON object

**Parameters**

-   `xml` **[string][93]** The raw API response
-   `type` **[string][93]** The OSM element type (node, way, relation)

Returns **[Promise][96]** 

## convertNotesXmlToJson

Convert a raw Notes API response into a well formatted JSON object

**Parameters**

-   `xml` **[string][93]** The raw API response

Returns **[Promise][96]** 

## flattenAttributes

XML converted with the xmlToJson function contain some weird objects
Eg:
{
  $: {
    attribute1: 'value1',
    attribute2: 'value2'
  },
  attribute3: ['value3'],
  attribute4: ['value4'],
}

That function flatten them
Eg:
{
  attribute1: 'value1',
  attribute2: 'value2',
  attribute3: 'value3',
  attribute4: 'value4',
}

**Parameters**

-   `object` **[Object][94]** 

Returns **[Object][94]** 

## xmlToJson

Convert a stringified XML into a JSON object

**Parameters**

-   `xml` **[string][93]** 

Returns **[Promise][96]** 

## jsonToXml

Convert a JSON object into a stringified XML

**Parameters**

-   `json` **[Object][94]** 

Returns **[string][93]** 

## OsmRequest

OSM API request handler

**Parameters**

-   `options` **[Object][94]?** Custom options to apply (optional, default `{}`)

### endpoint

Return the API endpoint to use for the requests

Returns **[string][93]** URL of the API endpoint

### fetchNotes

Retrieve the OSM notes in given bounding box

**Parameters**

-   `left` **[number][98]** The minimal longitude (X)
-   `bottom` **[number][98]** The minimal latitude (Y)
-   `right` **[number][98]** The maximal longitude (X)
-   `top` **[number][98]** The maximal latitude (Y)
-   `limit` **[number][98]?** The maximal amount of notes to retrieve (between 1 and 10000, defaults to 100) (optional, default `null`)
-   `closedDays` **[number][98]?** The amount of days a note needs to be closed to no longer be returned (defaults to 7, 0 means only opened notes are returned, and -1 means all notes are returned) (optional, default `null`)

Returns **[Promise][96]** Resolves on notes list

### fetchNotesSearch

Fetch OSM notes with textual search

**Parameters**

-   `q` **[string][93]** Specifies the search query
-   `format` **[string][93]?** It can be 'xml' (default) to get OSM
    and convert to JSON, 'raw' to return raw OSM XML, 'json' to
    return GeoJSON, 'gpx' to return GPX and 'rss' to return GeoRSS (optional, default `'xml'`)
-   `limit` **[number][98]?** The maximal amount of notes to retrieve (between 1 and 10000, defaults to 100) (optional, default `null`)
-   `closed` **[number][98]?** The amount of days a note needs to be closed to no longer be returned (defaults to 7, 0 means only opened notes are returned, and -1 means all notes are returned) (optional, default `null`)
-   `display_name` **[string][93]?** Specifies the creator of the returned notes by using a valid display name. Does not work together with the user parameter (optional, default `null`)
-   `user` **[number][98]?** Specifies the creator of the returned notes by using a valid id of the user. Does not work together with the display_name parameter (optional, default `null`)
-   `from` **[number][98]?** Specifies the beginning of a date range to search in for a note (optional, default `null`)
-   `to` **[number][98]?** Specifies the end of a date range to search in for a note. Today date is the default (optional, default `null`)

Returns **[Promise][96]** 

### fetchNote

Get OSM note by id
param {number} noteId Identifier for the note

**Parameters**

-   `noteId`  
-   `format` **[string][93]** It can be 'xml' (default) to get OSM
    and convert to JSON, 'raw' to return raw OSM XML, 'json' to
    return GeoJSON, 'gpx' to return GPX and 'rss' to return GeoRSS (optional, default `'xml'`)

Returns **[Promise][96]** 

### createNote

Create an OSM note

**Parameters**

-   `lat` **[number][98]** Specifies the latitude of the note
-   `lon` **[number][98]** Specifies the longitude of the note
-   `text` **[string][93]** A mandatory text field with arbitrary text containing the note

Returns **[Promise][96]** 

### commentNote

Comment an OSM note

**Parameters**

-   `noteId`  
-   `text` **[string][93]** A mandatory text field with arbitrary text containing the note

Returns **[Promise][96]** 

### closeNote

Close an OSM note

**Parameters**

-   `noteId`  
-   `text` **[string][93]** A mandatory text field with arbitrary text containing the note

Returns **[Promise][96]** 

### reopenNote

Reopen an OSM note

**Parameters**

-   `noteId`  
-   `text` **[string][93]** A mandatory text field with arbitrary text containing the note

Returns **[Promise][96]** 

### createChangeset

Send a request to OSM to create a new changeset

**Parameters**

-   `createdBy` **[string][93]?**  (optional, default `''`)
-   `comment` **[string][93]?**  (optional, default `''`)
-   `tags` **[string][93]?**  (optional, default `{}`)

Returns **[Promise][96]** 

### isChangesetStillOpen

Check if a changeset is still open

**Parameters**

-   `changesetId` **[number][98]** 

Returns **[Promise][96]** 

### fetchChangeset

Get a changeset for a given id

**Parameters**

-   `changesetId` **[number][98]** 

Returns **[Promise][96]** 

### updateChangesetTags

Update changeset tags if still open

**Parameters**

-   `changesetId` **[number][98]** 
-   `createdBy` **[string][93]?**  (optional, default `''`)
-   `comment` **[string][93]?**  (optional, default `''`)
-   `object` **[Object][94]?** use to set multiples tags (optional, default `{}`)


-   Throws **any** Will throw an error for any request with http code 40x

Returns **[Promise][96]** 

### closeChangeset

Close changeset for a given id if still opened

**Parameters**

-   `changesetId` **[number][98]** 


-   Throws **any** Will throw an error for any request with http code 40x.

Returns **[Promise][96]** Empty string if it works

### uploadChangesetOsc

Upload an OSC file content conforming to the OsmChange specification OSM changeset

**Parameters**

-   `changesetId` **[string][93]** 
-   `osmChangeContent` **[string][93]** OSC file content text


-   Throws **any** Will throw an error for any request with http code 40x.

Returns **[Promise][96]** 

### fetchChangesets

Fetch changesets from OSM API

**Parameters**

-   `options` **[Object][94]** Optional parameters
    -   `options.left` **[number][98]?** The minimal longitude (X)
    -   `options.bottom` **[number][98]?** The minimal latitude (Y)
    -   `options.right` **[number][98]?** The maximal longitude (X)
    -   `options.top` **[number][98]?** The maximal latitude (Y)
    -   `options.display_name` **[string][93]?** Specifies the creator of the returned notes by using a valid display name. Does not work together with the user parameter
    -   `options.user` **[number][98]?** Specifies the creator of the returned notes by using a valid id of the user. Does not work together with the display_name parameter
    -   `options.time` **[string][93]?** Can be a unique value T1 or two values T1, T2 comma separated. Find changesets closed after value T1 or find changesets that were closed after T1 and created before T2. In other words, any changesets that were open at some time during the given time range T1 to T2. Time format is anything that [http://ruby-doc.org/stdlib-2.6.3/libdoc/date/rdoc/DateTime.html#method-c-parse][99] can parse.
    -   `options.open` **[number][98]?** Only finds changesets that are still open but excludes changesets that are closed or have reached the element limit for a changeset (50.000 at the moment). Can be set to true
    -   `options.closed` **[number][98]?** Only finds changesets that are closed or have reached the element limit. Can be set to true
    -   `options.changesets` **[number][98]?** Finds changesets with the specified ids

Returns **[Promise][96]** 

### createNodeElement

Create a shiny new OSM node element, in a JSON format

**Parameters**

-   `lat` **[number][98]** 
-   `lon` **[number][98]** 
-   `tags` **[Object][94]?** Optional, initial tags (optional, default `{}`)
-   `id` **[string][93]?** Optional, identifier for OSM element

Returns **[Object][94]** 

### createWayElement

Create a shiny new OSM way element, in a JSON format

**Parameters**

-   `nodeOsmIds` **[Array][97]&lt;[string][93]>** 
-   `tags` **[Object][94]?** Optional, initial tags (optional, default `{}`)
-   `id` **[string][93]?** Optional, identifier for OSM element

Returns **[Object][94]** 

### createRelationElement

Create a shiny new OSM relation element, in a JSON format

**Parameters**

-   `osmElements` **[Array][97]&lt;[Object][94]>** Array of object with keys id and optional role key. Key id contains an osmId value like 'node/1234'
-   `tags` **[Object][94]?** Optional, initial tags (optional, default `{}`)
-   `id` **[string][93]?** Optional, identifier for OSM element

Returns **[Object][94]** 

### fetchElement

Fetch an OSM element by its ID and optionnally
all other elements referenced by it

**Parameters**

-   `osmId` **[string][93]** Eg: node/12345
-   `options` **[Object][94]** Optional parameters
    -   `options.full` **[boolean][95]?** True for getting all elements referenced by this element

Returns **[Promise][96]** 

### fetchMultipleElements

Fetch multiple OSM elements by it full OSM IDs. Work only with a type of elements, no mixed elements type are allowed

**Parameters**

-   `osmIds` **[Array][97]** Eg: ['node/12345', 'node/6789']. We do not support optional version e.g 'node/12345v2'

Returns **[Promise][96]** 

### fetchRelationsForElement

Fetch relation(s) from an OSM element

**Parameters**

-   `osmId` **[string][93]** Eg: node/12345

Returns **[Promise][96]** 

### fetchWaysForNode

Fetch ways using the given OSM node

**Parameters**

-   `osmId` **[string][93]** Eg: node/12345

Returns **[Promise][96]** Resolve on ways array (each one can be used as an Element for all other functions)

### findElementWithinOSMCollection

Find an element with it OsmId within an OSM collection

**Parameters**

-   `json` **[Object][94]** An object with key that can be 'node', 'way', 'relation'
-   `osmId` **[string][93]** Eg: node/12345

Returns **Obejct** OSM element

### getTags

Get all tags of this element as an object

**Parameters**

-   `element` **[Object][94]** 

Returns **[Object][94]** Tags of this element

### setProperty

Use setTag instead. Will be removed in the future.

**Parameters**

-   `element`  
-   `propertyName`  
-   `propertyValue`  

**Meta**

-   **deprecated**: This is deprecated.


### setTag

Add or replace a tag in a given element

**Parameters**

-   `element` **[Object][94]** 
-   `tagName` **[string][93]** 
-   `tagValue` **[string][93]** 

Returns **[Object][94]** A new version of the element

### setProperties

Use setTags instead. Will be removed in the future.

**Parameters**

-   `element`  
-   `properties`  

**Meta**

-   **deprecated**: This is deprecated.


### setTags

Add or replace several tags in a given element

**Parameters**

-   `element` **[Object][94]** 
-   `tags` **[Object][94]** 

Returns **[Object][94]** A new version of the element

### replaceTags

Completely replace tags of a given element

**Parameters**

-   `element` **[Object][94]** 
-   `tags` **[Object][94]** The tags that will replace completely current element tags

Returns **[Object][94]** A new version of the element

### removeProperty

Use removeTag instead. Will be removed in the future.

**Parameters**

-   `element`  
-   `propertyName`  

**Meta**

-   **deprecated**: This is deprecated.


### removeTag

Remove a tag from a given element

**Parameters**

-   `element` **[Object][94]** 
-   `tagName` **[string][93]** 

Returns **[Object][94]** A new version of the element

### setCoordinates

Replace the coordinates of the OSM node and return a copy of the element

**Parameters**

-   `element` **[Object][94]** 
-   `lat` **[number][98]** 
-   `lon` **[number][98]** 

Returns **[Object][94]** A new version of the element

### getNodeIdsForWay

Get the nodes ids of the OSM way

**Parameters**

-   `way` **[Object][94]** 

Returns **[Array][97]&lt;[string][93]>** nodeOsmIds

### setNodeIdsForWay

Replace the nodes of the OSM way and return a copy of the way

**Parameters**

-   `way` **[Object][94]** 
-   `nodeOsmIds` **[Array][97]&lt;[string][93]>** 

Returns **[Object][94]** A new version of the way

### getRelationMembers

Get the members objects from an OSM relation

**Parameters**

-   `relation` **[Object][94]** 

Returns **[Array][97]&lt;[Object][94]>** Array of object with keys id with osmId value e.g 'node/1234' and optional role key

### setRelationMembers

Replace the members objects of the OSM relation and return a copy of the relation

**Parameters**

-   `relation` **[Object][94]** 
-   `osmElements` **[Array][97]&lt;[Object][94]>** Array of object with keys id and optional role key. Key id contains an osmId value like 'node/1234'

Returns **[Object][94]** A new version of the relation

### setTimestampToNow

Set the current UTC date to a given element

**Parameters**

-   `element` **[Object][94]** 

Returns **[Object][94]** A new version of the element

### setVersion

Change the version number (given by API) of an element

**Parameters**

-   `element` **[Object][94]** 
-   `version` **int** 

Returns **[Object][94]** A new version of the element

### sendElement

Send an element to OSM

**Parameters**

-   `element` **[Object][94]** 
-   `changesetId` **[number][98]** 

Returns **[Promise][96]** 

### fetchMapByBbox

Request to fetch all OSM elements within a bbox extent

**Parameters**

-   `left` **[number][98]** The minimal longitude (X)
-   `bottom` **[number][98]** The minimal latitude (Y)
-   `right` **[number][98]** The maximal longitude (X)
-   `top` **[number][98]** The maximal latitude (Y)
-   `mode` **[string][93]** The mode is json so output in the promise will be an object, otherwise, it will be an object and a XML string (optional, default `'json'`)

Returns **[Promise][96]** 

### deleteElement

Delete an element from OSM

**Parameters**

-   `element` **[Object][94]** 
-   `changesetId` **[number][98]** 

Returns **[Promise][96]** Promise with the new version number due to deletion

### getUserPreferences

Get all preferences from connected user

Returns **[Promise][96]** Promise with Well formatted JSON of user preferences

### setUserPreferences

Set all preferences for a connected user

**Parameters**

-   `object` **[Object][94]** An object to provide keys values to create XML preferences

Returns **[Promise][96]** Promise

### getUserPreferenceByKey

Get a preference from a key for the connected user

**Parameters**

-   `key` **[string][93]** The key to retrieve

Returns **[Promise][96]** Promise with the value for the key

### setUserPreferenceByKey

Set a preference from a key for the connected user

**Parameters**

-   `key` **[string][93]** The key to set.
-   `value` **[string][93]** The value to set. Overwrite existing value if key exists

Returns **[Promise][96]** Promise

### deleteUserPreference

Delete a preference from a key for the connected user

**Parameters**

-   `key` **[string][93]** The key to use.

Returns **[Promise][96]** Promise

## fetchElementRequest

Request to fetch an OSM element

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `osmId` **[string][93]** 
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Object][94]** 

## fetchElementRequestFull

Request to fetch way or relation and all other elements referenced by it

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `osmId` **[string][93]** Can only contain either a way or a relation
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** Promise with well formatted JSON content

## multiFetchElementsByTypeRequest

Request to fetch an OSM element

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `osmIds` **[Array][97]** Eg: ['node/12345', 'node/6789']. We do not support optional version e.g 'node/12345v2'
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## fetchWaysForNodeRequest

Request to fetch ways using the given OSM node

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `osmId` **[string][93]** 
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Object][94]** 

## sendElementRequest

Send an element to OSM

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `element` **[Object][94]** 
-   `changesetId` **[number][98]** 

Returns **[Promise][96]** 

## fetchNotesRequest

Request to fetch OSM notes

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `left` **[number][98]** The minimal longitude (X)
-   `bottom` **[number][98]** The minimal latitude (Y)
-   `right` **[number][98]** The maximal longitude (X)
-   `top` **[number][98]** The maximal latitude (Y)
-   `limit` **[number][98]?** The maximal amount of notes to retrieve (between 1 and 10000, defaults to 100) (optional, default `null`)
-   `closedDays` **[number][98]?** The amount of days a note needs to be closed to no longer be returned (defaults to 7, 0 means only opened notes are returned, and -1 means all notes are returned) (optional, default `null`)
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Object][94]** 

## fetchNotesSearchRequest

Request to get OSM notes with textual search

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `q` **[string][93]** Specifies the search query
-   `format` **[string][93]?** It can be 'xml' (default) to get OSM
    and convert to JSON, 'raw' to return raw OSM XML, 'json' to
    return GeoJSON, 'gpx' to return GPX and 'rss' to return GeoRSS (optional, default `'xml'`)
-   `limit` **[number][98]?** The maximal amount of notes to retrieve (between 1 and 10000, defaults to 100) (optional, default `null`)
-   `closed` **[number][98]?** The amount of days a note needs to be closed to no longer be returned (defaults to 7, 0 means only opened notes are returned, and -1 means all notes are returned) (optional, default `null`)
-   `display_name` **[string][93]?** Specifies the creator of the returned notes by using a valid display name. Does not work together with the user parameter (optional, default `null`)
-   `user` **[number][98]?** Specifies the creator of the returned notes by using a valid id of the user. Does not work together with the display_name parameter (optional, default `null`)
-   `from` **[number][98]?** Specifies the beginning of a date range to search in for a note (optional, default `null`)
-   `to` **[number][98]?** Specifies the end of a date range to search in for a note. Today date is the default (optional, default `null`)
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## fetchNoteByIdRequest

Request to fetch OSM note by id

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
    param {number} noteId Identifier for the note
-   `noteId`  
-   `format` **[string][93]** It can be 'xml' (default) to get OSM
    and convert to JSON, 'raw' to return raw OSM XML, 'json' to
    return GeoJSON, 'gpx' to return GPX and 'rss' to return GeoRSS (optional, default `'xml'`)
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## genericPostNoteRequest

Request generic enough to manage all POST request for a particular note

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
    param {number} noteId Identifier for the note
-   `noteId`  
-   `text` **[string][93]** A mandatory text field with arbitrary text containing the note
-   `type` **[string][93]** Mandatory type. It can be 'comment', 'close' or 'reopen'

Returns **[Promise][96]** 

## createNoteRequest

Request to create a note

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `lat` **[number][98]** Specifies the latitude of the note
-   `lon` **[number][98]** Specifies the longitude of the note
-   `text` **[string][93]** A mandatory text field with arbitrary text containing the note

Returns **[Promise][96]** 

## createChangesetRequest

Request to create OSM changeset

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `createdBy` **[string][93]?**  (optional, default `''`)
-   `comment` **[string][93]?**  (optional, default `''`)
-   `tags` **[string][93]?** An object with keys values to set to tags (optional, default `{}`)

Returns **[Promise][96]** 

## changesetCheckRequest

Checks if a given changeset is still opened at OSM.

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `changesetId` **[number][98]** 

Returns **[Promise][96]** 

## changesetGetRequest

Get a changeset for a given id at OSM.

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `changesetId` **[number][98]** 
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## updateChangesetTagsRequest

Update tags if a given changeset is still opened at OSM.

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `changesetId` **[number][98]** 
-   `createdBy` **[string][93]?**  (optional, default `''`)
-   `comment` **[string][93]?**  (optional, default `''`)
-   `tags` **[Object][94]?** Use to set multiples tags (optional, default `{}`)


-   Throws **any** Will throw an error for any request with http code 40x.

Returns **[Promise][96]** 

## closeChangesetRequest

Request to close changeset for a given id if still opened

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `changesetId` **[number][98]** 


-   Throws **any** Will throw an error for any request with http code 40x.

Returns **[Promise][96]** Empty string if it works

## uploadChangesetOscRequest

Request to upload an OSC file content conforming to the OsmChange specification OSM changeset

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `changesetId` **[string][93]** 
-   `osmChangeContent` **[string][93]** OSC file content text

Returns **[Promise][96]** 

## fetchChangesetsRequest

Request to get changesets from OSM API

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `options` **[Object][94]** Optional parameters (optional, default `{}`)
    -   `options.left` **[number][98]?** The minimal longitude (X)
    -   `options.bottom` **[number][98]?** The minimal latitude (Y)
    -   `options.right` **[number][98]?** The maximal longitude (X)
    -   `options.top` **[number][98]?** The maximal latitude (Y)
    -   `options.display_name` **[string][93]?** Specifies the creator of the returned notes by using a valid display name. Does not work together with the user parameter
    -   `options.user` **[number][98]?** Specifies the creator of the returned notes by using a valid id of the user. Does not work together with the display_name parameter
    -   `options.time` **[string][93]?** Can be a unique value T1 or two values T1, T2 comma separated. Find changesets closed after value T1 or find changesets that were closed after T1 and created before T2. In other words, any changesets that were open at some time during the given time range T1 to T2. Time format is anything that [http://ruby-doc.org/stdlib-2.6.3/libdoc/date/rdoc/DateTime.html#method-c-parse][99] can parse.
    -   `options.open` **[number][98]?** Only finds changesets that are still open but excludes changesets that are closed or have reached the element limit for a changeset (50.000 at the moment). Can be set to true
    -   `options.closed` **[number][98]?** Only finds changesets that are closed or have reached the element limit. Can be set to true
    -   `options.changesets` **[number][98]?** Finds changesets with the specified ids
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## fetchMapByBboxRequest

Request to fetch all OSM elements within a bbox extent

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `left` **[number][98]** The minimal longitude (X)
-   `bottom` **[number][98]** The minimal latitude (Y)
-   `right` **[number][98]** The maximal longitude (X)
-   `top` **[number][98]** The maximal latitude (Y)
-   `mode` **[string][93]** The mode is json so output in the promise will be an object, otherwise, it will be an object and a XML string (optional, default `'json'`)
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## deleteElementRequest

Delete an OSM element

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `element` **[Object][94]** 
-   `changesetId` **[number][98]** 

Returns **[Promise][96]** Promise with the new version number due to deletion

## fetchRelationsForElementRequest

Request to fetch relation(s) from an OSM element

**Parameters**

-   `endpoint` **[string][93]** The API endpoint
-   `osmId` **[string][93]** 
-   `options` **[Object][94]?** Options (optional, default `{}`)
    -   `options.auth` **[Object][94]?** Auth XHR object to use instead of unauthenticated call

Returns **[Promise][96]** 

## getUserPreferencesRequest

Request to fetch preferences for the connected user

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint


-   Throws **any** Will throw an error for any request with http code 40x.

Returns **[Promise][96]** Promise with the value for the key

## setUserPreferencesRequest

Request to set all preferences for a connected user

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `object` **[Object][94]** An object to provide keys values to create XML preferences

Returns **[Promise][96]** Promise

## getUserPreferenceByKeyRequest

Request to fetch a preference from a key for the connected user

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `key` **[string][93]** The key to retrieve


-   Throws **any** Will throw an error for any request with http code 40x.

Returns **[Promise][96]** Promise with the value for the key

## setUserPreferenceByKeyRequest

Request to set a preference from a key for the connected user

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `key` **[string][93]** The key to set
-   `value` **[string][93]** The value to set. Overwrite existing value if key exists

Returns **[Promise][96]** Promise

## deleteUserPreferenceRequest

Request to delete a preference from a key for the connected user

**Parameters**

-   `auth` **osmAuth** An instance of osm-auth
-   `endpoint` **[string][93]** The API endpoint
-   `key` **[string][93]** The key to use

Returns **[Promise][96]** Promise

[1]: #getcurrentisotimestamp

[2]: #removetrailingslashes

[3]: #simpleobjectdeepclone

[4]: #findelementtype

[5]: #findelementid

[6]: #checkidisnegative

[7]: #buildquerystring

[8]: #buildapiurl

[9]: #fetch

[10]: #encodexml

[11]: #buildchangesetxml

[12]: #buildchangesetfromobjectxml

[13]: #buildpreferencesfromobjectxml

[14]: #convertelementxmltojson

[15]: #cleanmapjson

[16]: #convertelementslistxmltojson

[17]: #convertnotesxmltojson

[18]: #flattenattributes

[19]: #xmltojson

[20]: #jsontoxml

[21]: #osmrequest

[22]: #endpoint

[23]: #fetchnotes

[24]: #fetchnotessearch

[25]: #fetchnote

[26]: #createnote

[27]: #commentnote

[28]: #closenote

[29]: #reopennote

[30]: #createchangeset

[31]: #ischangesetstillopen

[32]: #fetchchangeset

[33]: #updatechangesettags

[34]: #closechangeset

[35]: #uploadchangesetosc

[36]: #fetchchangesets

[37]: #createnodeelement

[38]: #createwayelement

[39]: #createrelationelement

[40]: #fetchelement

[41]: #fetchmultipleelements

[42]: #fetchrelationsforelement

[43]: #fetchwaysfornode

[44]: #findelementwithinosmcollection

[45]: #gettags

[46]: #setproperty

[47]: #settag

[48]: #setproperties

[49]: #settags

[50]: #replacetags

[51]: #removeproperty

[52]: #removetag

[53]: #setcoordinates

[54]: #getnodeidsforway

[55]: #setnodeidsforway

[56]: #getrelationmembers

[57]: #setrelationmembers

[58]: #settimestamptonow

[59]: #setversion

[60]: #sendelement

[61]: #fetchmapbybbox

[62]: #deleteelement

[63]: #getuserpreferences

[64]: #setuserpreferences

[65]: #getuserpreferencebykey

[66]: #setuserpreferencebykey

[67]: #deleteuserpreference

[68]: #fetchelementrequest

[69]: #fetchelementrequestfull

[70]: #multifetchelementsbytyperequest

[71]: #fetchwaysfornoderequest

[72]: #sendelementrequest

[73]: #fetchnotesrequest

[74]: #fetchnotessearchrequest

[75]: #fetchnotebyidrequest

[76]: #genericpostnoterequest

[77]: #createnoterequest

[78]: #createchangesetrequest

[79]: #changesetcheckrequest

[80]: #changesetgetrequest

[81]: #updatechangesettagsrequest

[82]: #closechangesetrequest

[83]: #uploadchangesetoscrequest

[84]: #fetchchangesetsrequest

[85]: #fetchmapbybboxrequest

[86]: #deleteelementrequest

[87]: #fetchrelationsforelementrequest

[88]: #getuserpreferencesrequest

[89]: #setuserpreferencesrequest

[90]: #getuserpreferencebykeyrequest

[91]: #setuserpreferencebykeyrequest

[92]: #deleteuserpreferencerequest

[93]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[94]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[95]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[96]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[97]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[98]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[99]: http://ruby-doc.org/stdlib-2.6.3/libdoc/date/rdoc/DateTime.html#method-c-parse
